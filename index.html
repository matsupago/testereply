<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web3 Reply Guy - Crypto Replies</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #2e7d32;
      --primary-light: #60ad5e;
      --primary-dark: #005005;
      --secondary-color: #f5f5f5;
      --text-color: #333333;
      --accent-color: #ff8f00;
      --danger-color: #d32f2f;
      --success-color: #43a047;
      --border-radius: 8px;
      --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
      --bg-color: white;
      --container-bg: white;
      --card-bg: var(--secondary-color);
      --card-border: var(--primary-color);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
      color: var(--text-color);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      min-height: 100vh;
      padding: 20px;
      transition: background 0.5s ease;
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
      background-color: var(--container-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 30px;
      position: relative;
      overflow: hidden;
      transition: background-color 0.5s ease, box-shadow 0.3s ease;
    }
    
    header {
      text-align: center;
      margin-bottom: 25px;
    }
    
    h1 {
      text-align: center;
      color: var(--primary-color);
      margin-bottom: 10px;
      font-size: 2.2rem;
      position: relative;
      padding-bottom: 10px;
    }
    
    h1::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background-color: var(--primary-color);
      border-radius: 3px;
    }
    
    .subtitle {
      color: var(--text-color);
      font-weight: 300;
      text-align: center;
      margin-bottom: 10px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--primary-dark);
    }
    
    select, input[type="text"] {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: var(--transition);
      background-color: var(--secondary-color);
    }
    
    select:focus, input[type="text"]:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
    }
    
    button {
      cursor: pointer;
      border: none;
      background: var(--primary-color);
      color: white;
      font-size: 1rem;
      font-weight: 600;
      padding: 12px 20px;
      border-radius: var(--border-radius);
      width: 100%;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    button:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    button:active {
      transform: translateY(0);
    }
    
    /* Estilo para os rádios de saudação (GM/GN) */
    .greeting-options {
      display: flex;
      gap: 15px;
      margin-bottom: 12px;
    }
    
    .greeting-option {
      flex: 1;
    }
    
    .greeting-option input[type="radio"] {
      display: none;
    }
    
    .greeting-option label {
      display: block;
      text-align: center;
      padding: 12px;
      background-color: var(--secondary-color);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      border: 2px solid transparent;
      font-size: 1.1rem;
    }
    
    .greeting-option input[type="radio"]:checked + label {
      background-color: var(--primary-light);
      color: white;
      border-color: var(--primary-dark);
    }
    
    /* Estilo para opções de tamanho de mensagem */
    .message-length-options {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
    }
    
    .message-length-option {
      flex: 1;
    }
    
    .message-length-option input[type="radio"] {
      display: none;
    }
    
    .message-length-option label {
      display: block;
      text-align: center;
      padding: 8px;
      background-color: var(--secondary-color);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
      border: 2px solid transparent;
    }
    
    .message-length-option input[type="radio"]:checked + label {
      background-color: var(--primary-light);
      color: white;
      border-color: var(--primary-dark);
    }
    
    /* Área de resultados */
    .results {
      margin-top: 20px;
    }
    
    .message-card {
      background-color: var(--card-bg);
      border-left: 4px solid var(--card-border);
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
      padding: 15px;
      margin-bottom: 12px;
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.5s ease;
    }
    
    .message-card:hover {
      transform: translateX(5px);
      box-shadow: var(--box-shadow);
    }
    
    .message-text {
      margin-bottom: 12px;
      font-size: 1.05rem;
      line-height: 1.4;
    }
    
    .message-actions {
      display: flex;
      gap: 8px;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }
    
    .message-card:hover .message-actions {
      opacity: 1;
    }
    
    .copy-btn, .edit-btn, .share-btn, .delete-btn {
      padding: 8px;
      font-size: 0.85rem;
      border-radius: var(--border-radius);
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    
    .copy-btn:hover, .edit-btn:hover, .share-btn:hover, .delete-btn:hover {
      transform: translateY(-2px);
    }
    
    .copy-btn:active, .edit-btn:active, .share-btn:active, .delete-btn:active {
      transform: translateY(0);
    }
    
    .copy-btn {
      background-color: var(--primary-color);
      flex: 2;
    }
    
    .share-btn {
      background-color: #000000;
      flex: 1;
    }
    
    .share-btn:hover {
      background-color: #333333;
    }
    
    .edit-btn {
      background-color: var(--accent-color);
      flex: 1;
    }
    
    .edit-btn:hover {
      background-color: #e68900;
    }
    
    .delete-btn {
      background-color: var(--danger-color);
      color: white;
      flex: 0.5;
      margin-left: auto;
    }
    
    .delete-btn:hover {
      background-color: #b71c1c;
    }
    
    /* Notificação de cópia */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary-dark);
      color: white;
      padding: 10px 20px;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      transform: translateY(150px);
      opacity: 0;
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease;
      z-index: 1000;
      max-width: 80%;
      word-wrap: break-word;
    }
    
    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    .notification.success {
      background: var(--success-color);
    }
    
    .notification.error {
      background: var(--danger-color);
    }
    
    /* Estilo para mensagem de erro */
    .error-message {
      background-color: #ffebee;
      color: #d32f2f;
      padding: 15px;
      border-radius: var(--border-radius);
      border-left: 4px solid #d32f2f;
      margin-bottom: 20px;
    }
    
    .error-message p {
      margin-bottom: 10px;
    }
    
    .error-message p:last-child {
      margin-bottom: 0;
    }
    
    /* Modal de edição */
    .edit-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1001;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .edit-modal.active {
      display: flex;
      opacity: 1;
    }
    
    .edit-modal-content {
      background-color: white;
      padding: 20px;
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 500px;
      box-shadow: var(--box-shadow);
      transform: scale(0.9);
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .edit-modal.active .edit-modal-content {
      transform: scale(1);
    }
    
    .edit-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .edit-modal-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--primary-dark);
    }
    
    .edit-modal-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
      width: auto;
      padding: 0;
    }
    
    .edit-modal-body {
      margin-bottom: 15px;
    }
    
    .edit-modal-textarea {
      width: 100%;
      height: 100px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 1rem;
      resize: vertical;
    }
    
    .edit-modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    
    .edit-modal-cancel, .edit-modal-save {
      width: auto;
      padding: 8px 15px;
    }
    
    .edit-modal-cancel {
      background-color: #f5f5f5;
      color: #333;
      border: 1px solid #ddd;
    }
    
    .edit-modal-cancel:hover {
      background-color: #e0e0e0;
    }
    
    /* Rodapé */
    footer {
      text-align: center;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #ddd;
    }
    
    footer p {
      margin-bottom: 10px;
    }
    
    .coffee-link {
      display: inline-flex;
      align-items: center;
      color: var(--primary-color);
      text-decoration: none;
      padding: 8px 15px;
      border-radius: var(--border-radius);
      font-weight: 600;
      transition: var(--transition);
      border: 1px solid var(--primary-color);
    }
    
    .coffee-link:hover {
      background-color: var(--primary-color);
      color: white;
    }
    
    .coffee-link i {
      margin-right: 8px;
    }
    
    /* AI Form */
    .ai-form {
      display: block;
    }
    
    /* Estilo para a caixa de descrição da AI */
    .ai-description {
      padding: 15px;
      background-color: rgba(96, 173, 94, 0.1);
      border-left: 4px solid var(--primary-color);
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
      margin-bottom: 20px;
    }
    
    .ai-response-loading {
      display: none;
      text-align: center;
      padding: 20px;
    }
    
    .loading-spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top: 4px solid var(--primary-color);
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto 10px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Ajustes para mobile */
    @media (max-width: 600px) {
      .container {
        padding: 20px;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      .message-text {
        font-size: 1rem;
      }
      
      .message-actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 6px;
      }
      
      .copy-btn, .edit-btn, .share-btn, .delete-btn {
        flex: none;
        width: 100%;
      }
      
      .delete-btn {
        margin-left: 0;
      }
      
      .theme-toggle {
        position: fixed;
        top: auto;
        bottom: 20px;
        right: 60px;
        z-index: 9999;
        display: flex;
        opacity: 1;
        visibility: visible;
      }
      
      .settings-toggle {
        position: fixed;
        top: auto;
        bottom: 20px;
        right: 20px;
        z-index: 9999;
        display: flex;
        opacity: 1;
        visibility: visible;
      }
    }
    
    /* Botões fixos para mobile */
    @media (max-width: 600px) {
      #themeToggle, #settingsToggle {
        position: fixed !important;
        bottom: 20px !important;
        z-index: 9999 !important;
        display: flex !important;
        opacity: 1 !important;
        visibility: visible !important;
        width: 40px !important;
        height: 40px !important;
        border-radius: 50% !important;
        background-color: var(--primary-color) !important;
        color: white !important;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3) !important;
      }
      
      #themeToggle {
        right: 70px !important;
      }
      
      #settingsToggle {
        right: 20px !important;
      }
      
      body.dark-theme #themeToggle,
      body.dark-theme #settingsToggle {
        background-color: var(--primary-dark) !important;
        color: white !important;
      }
    }
    
    /* Tema escuro */
    body.dark-theme {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      color: #f5f5f5;
    }
    
    body.dark-theme .container {
      background-color: #333;
    }
    
    body.dark-theme select, 
    body.dark-theme input[type="text"] {
      background-color: #444;
      color: white;
      border-color: #555;
    }
    
    body.dark-theme .ai-description {
      background-color: rgba(96, 173, 94, 0.15);
    }
    
    body.dark-theme .message-card {
      background-color: #444;
    }
    
    body.dark-theme .edit-modal-content {
      background-color: #333;
    }
    
    body.dark-theme .edit-modal-textarea {
      background-color: #444;
      color: white;
      border-color: #555;
    }
    
    body.dark-theme .edit-modal-cancel {
      background-color: #444;
      color: white;
      border-color: #555;
    }
    
    body.dark-theme .confirm-modal-content {
      background-color: #333;
      color: white;
    }
    
    body.dark-theme .confirm-cancel-btn {
      background-color: #444;
      color: white;
      border-color: #555;
    }
    
    /* Botão de alternar tema */
    .theme-toggle {
      position: absolute;
      top: 20px;
      right: 60px;
      background: none;
      border: none;
      color: var(--primary-color);
      font-size: 1.5rem;
      cursor: pointer;
      width: auto;
      height: auto;
      padding: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }
    
    .theme-toggle:hover {
      color: var(--primary-dark);
      background: none;
      transform: none;
    }
    
    body.dark-theme .theme-toggle {
      color: var(--primary-light);
    }
    
    body.dark-theme .theme-toggle:hover {
      color: white;
    }
    
    /* Saved messages section */
    .saved-messages {
      margin-top: 25px;
      border-top: 1px solid #ddd;
      padding-top: 15px;
    }
    
    .saved-messages-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .saved-messages-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--primary-dark);
    }
    
    .clear-all-btn {
      background-color: var(--danger-color);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-size: 0.9rem;
      width: auto;
      transition: var(--transition);
    }
    
    .clear-all-btn:hover {
      background-color: #b71c1c;
    }
    
    .delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    .delete-btn:hover {
      background-color: #b71c1c;
    }
    
    /* Confirmation modal */
    .confirm-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1001;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .confirm-modal.active {
      display: flex;
      opacity: 1;
    }
    
    .confirm-modal-content {
      background-color: white;
      padding: 20px;
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 400px;
      box-shadow: var(--box-shadow);
      text-align: center;
      transform: scale(0.9);
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .confirm-modal.active .confirm-modal-content {
      transform: scale(1);
    }
    
    .confirm-modal-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--danger-color);
      margin-bottom: 15px;
    }
    
    .confirm-modal-message {
      margin-bottom: 20px;
    }
    
    .confirm-modal-actions {
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    
    .confirm-cancel-btn, .confirm-delete-btn {
      width: auto;
      padding: 8px 20px;
    }
    
    .confirm-cancel-btn {
      background-color: #f5f5f5;
      color: #333;
      border: 1px solid #ddd;
    }
    
    .confirm-delete-btn {
      background-color: var(--danger-color);
    }
    
    /* Botão de regenerar */
    .regenerate-btn {
      background-color: var(--accent-color);
      margin-top: 15px;
      display: none;
    }
    
    .regenerate-btn:hover {
      background-color: #e68900;
    }
    
    .regenerate-btn i {
      margin-right: 8px;
    }
    
    /* Color theme selector */
    .color-theme-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 20px;
      justify-content: center;
      position: static;
    }
    
    .color-option {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
      transition: transform 0.2s ease, border-color 0.2s ease;
    }
    
    .color-option:hover {
      transform: scale(1.1);
    }
    
    .color-option.active {
      border-color: white;
      box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.2);
    }
    
    /* Botão de configurações */
    .settings-toggle {
      position: absolute; 
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      color: var(--primary-color);
      font-size: 1.5rem;
      cursor: pointer;
      width: auto;
      height: auto;
      padding: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }
    
    /* Correções para as bolinhas de cores e botões mobile */
    .settings-menu .color-option {
      width: 30px !important;
      height: 30px !important;
    }
    
    @media (max-width: 600px) {
      .theme-toggle, .settings-toggle {
        position: fixed !important;
        bottom: 20px !important;
        z-index: 1003 !important;
        display: flex !important;
        opacity: 1 !important;
        visibility: visible !important;
      }
      
      .theme-toggle {
        right: 60px !important;
      }
      
      .settings-toggle {
        right: 20px !important;
      }
    }
    
    /* Menu de configurações */
    .settings-menu {
      position: fixed;
      top: 0;
      right: -350px;
      width: 350px;
      height: 100%;
      background-color: var(--container-bg);
      box-shadow: var(--box-shadow);
      z-index: 10000;
      padding: 20px;
      transition: right 0.3s ease;
      overflow-y: auto;
    }
    
    .settings-menu.active {
      right: 0;
    }
    
    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #ddd;
    }
    
    .settings-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--primary-dark);
    }
    
    .settings-section {
      margin-bottom: 30px;
      padding: 15px;
      border-radius: var(--border-radius);
      background-color: rgba(0, 0, 0, 0.03);
    }
    
    .settings-section-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--primary-dark);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    /* Overlay para o menu de configurações */
    .settings-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 9998;
      display: none;
    }
    
    .settings-overlay.active {
      display: block;
    }
    
    .settings-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
      width: auto;
      padding: 0;
    }
    
    /* Modo compacto */
    body.compact-mode .container {
      padding: 15px;
    }

    body.compact-mode .form-group {
      margin-bottom: 10px;
    }

    body.compact-mode .message-card {
      padding: 10px;
      margin-bottom: 8px;
    }

    body.compact-mode .greeting-option label,
    body.compact-mode .message-length-option label {
      padding: 8px;
    }

    body.compact-mode h1 {
      font-size: 1.8rem;
      margin-bottom: 5px;
    }

    body.compact-mode .subtitle {
      margin-bottom: 5px;
    }

    body.compact-mode .ai-description {
      padding: 10px;
      margin-bottom: 10px;
    }

    body.compact-mode button {
      padding: 8px 15px;
    }

    body.compact-mode .settings-section {
      margin-bottom: 15px;
      padding: 10px;
    }

    body.compact-mode .settings-section-title {
      margin-bottom: 10px;
    }

    /* Estilo para o input do Twitter com @ */
    .twitter-input-container {
      position: relative;
      display: flex;
      align-items: center;
    }

    .twitter-at {
      position: absolute;
      left: 15px;
      color: #666;
      z-index: 1;
    }

    .twitter-handle-input {
      padding-left: 30px !important;
    }

    /* Tema escuro para o modo compacto */
    body.dark-theme.compact-mode .container {
      background-color: #333;
    }

    body.dark-theme.compact-mode .message-card {
      background-color: #444;
    }

    body.dark-theme.compact-mode .settings-section {
      background-color: rgba(255, 255, 255, 0.05);
    }

    /* Ajustes para o input do Twitter no tema escuro */
    body.dark-theme .twitter-at {
      color: #aaa;
    }

    body.dark-theme .twitter-handle-input {
      background-color: #444;
      color: white;
      border-color: #555;
    }

    .settings-description {
      display: block;
      margin-top: 5px;
      font-size: 0.85rem;
      color: #666;
    }

    body.dark-theme .settings-description {
      color: #aaa;
    }

    /* Ajuste adicional para o modo compacto */
    body.compact-mode .settings-description {
      margin-top: 3px;
      font-size: 0.8rem;
    }

    /* Ajustes adicionais para o modo compacto */
    body.compact-mode .saved-messages {
      margin-top: 15px;
      padding-top: 10px;
    }

    body.compact-mode .saved-messages-header {
      margin-bottom: 8px;
    }

    body.compact-mode .saved-messages-title {
      font-size: 1.1rem;
    }

    body.compact-mode footer {
      margin-top: 15px;
      padding-top: 10px;
    }

    body.compact-mode .message-text {
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    body.compact-mode .message-actions button {
      padding: 5px 10px;
      font-size: 0.8rem;
    }

    body.compact-mode .notification {
      padding: 8px 15px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Web3 Reply Guy</h1>
      <p class="subtitle">Create perfect crypto replies for social media</p>
      <button id="themeToggle" class="theme-toggle" title="Toggle dark/light mode">
        <i class="fas fa-moon"></i>
      </button>
      <button id="settingsToggle" class="settings-toggle" title="Settings">
        <i class="fas fa-cog"></i>
      </button>
    </header>

    <div class="form-container">
      <!-- AI Form -->
      <div id="aiForm" class="ai-form">
        <div class="ai-description">
          <p>Generate quick replies to GM/GN posts in the crypto community. These replies are designed to be direct responses to someone else's post.</p>
        </div>
        
        <div class="form-group">
          <label>Replying to:</label>
          <div class="greeting-options">
            <div class="greeting-option">
              <input type="radio" id="gm-ai" name="greeting-ai" value="GM" checked>
              <label for="gm-ai">GM</label>
            </div>
            <div class="greeting-option">
              <input type="radio" id="gn-ai" name="greeting-ai" value="GN">
              <label for="gn-ai">GN</label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Reply style:</label>
          <div class="message-length-options">
            <div class="message-length-option">
              <input type="radio" id="length-short" name="message-length" value="short" checked>
              <label for="length-short">Short</label>
            </div>
            <div class="message-length-option">
              <input type="radio" id="length-normal" name="message-length" value="normal">
              <label for="length-normal">Normal</label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="aiPrompt">Include topic (optional):</label>
          <input type="text" id="aiPrompt" placeholder="Ex: NFTs, DeFi, Bitcoin..." />
        </div>

        <button id="generateAiBtn"><i class="fas fa-robot"></i> Generate Reply</button>
        
        <div id="aiLoading" class="ai-response-loading">
          <div class="loading-spinner"></div>
          <p>Generating reply...</p>
        </div>
      </div>
    </div>

    <div class="results">
      <div id="aiResults" class="ai-response"></div>
    </div>
    
    <div class="saved-messages">
      <div class="saved-messages-header">
        <div class="saved-messages-title">Saved Replies</div>
        <button id="clearAllBtn" class="clear-all-btn"><i class="fas fa-trash-alt"></i> Clear All</button>
      </div>
      <div id="savedMessagesList"></div>
    </div>

    <footer>
      <p>Developed with ❤️ by <a href="https://github.com/yourusername" target="_blank">Your Name</a></p>
      <p><a href="https://etherscan.io/address/your-eth-address" class="coffee-link" target="_blank"><i class="fas fa-coins"></i> Send me ETH</a></p>
    </footer>
  </div>

  <!-- Settings Menu -->
  <div id="settingsOverlay" class="settings-overlay"></div>
  <div id="settingsMenu" class="settings-menu">
    <div class="settings-header">
      <div class="settings-title"><i class="fas fa-cog"></i> Settings</div>
      <button class="settings-close" id="closeSettings">&times;</button>
    </div>
    <div class="settings-section">
      <div class="settings-section-title"><i class="fas fa-user"></i> Profile</div>
      <div class="form-group">
        <label for="twitterHandle">Your X (Twitter) Username:</label>
        <div class="twitter-input-container">
          <span class="twitter-at">@</span>
          <input type="text" id="twitterHandle" placeholder="username" class="twitter-handle-input">
        </div>
        <small class="settings-description">Used when sharing replies on X</small>
      </div>
    </div>
    <div class="settings-section">
      <div class="settings-section-title"><i class="fas fa-desktop"></i> Display Options</div>
      <div class="form-group">
        <label class="checkbox-label">
          <input type="checkbox" id="darkModeToggle"> Dark Mode
          <small>Switch between light and dark interface</small>
        </label>
      </div>
      <div class="form-group">
        <label class="checkbox-label">
          <input type="checkbox" id="compactModeToggle"> Compact Mode
          <small>Reduce spacing for a more condensed view</small>
        </label>
      </div>
    </div>
    <div class="settings-section">
      <div class="settings-section-title"><i class="fas fa-palette"></i> Color Theme</div>
      <div class="color-theme-selector" style="position: static; display: flex; justify-content: center; gap: 15px;">
        <div class="color-option" data-theme="green" style="background-color: #2e7d32; width: 30px; height: 30px;" title="Green theme"></div>
        <div class="color-option" data-theme="blue" style="background-color: #1976d2; width: 30px; height: 30px;" title="Blue theme"></div>
        <div class="color-option" data-theme="purple" style="background-color: #7b1fa2; width: 30px; height: 30px;" title="Purple theme"></div>
        <div class="color-option" data-theme="orange" style="background-color: #e65100; width: 30px; height: 30px;" title="Orange theme"></div>
      </div>
    </div>
    <div class="settings-section">
      <div class="settings-section-title"><i class="fas fa-info-circle"></i> About</div>
      <p>Web3 Reply Guy helps you create perfect crypto-themed replies for social media posts.</p>
      <p class="settings-version">Version 1.0</p>
    </div>
  </div>

  <!-- Edit Modal -->
  <div id="editModal" class="edit-modal">
    <div class="edit-modal-content">
      <div class="edit-modal-header">
        <div class="edit-modal-title">Edit Reply</div>
        <button class="edit-modal-close" id="closeModal">&times;</button>
      </div>
      <div class="edit-modal-body">
        <textarea id="editMessageText" class="edit-modal-textarea"></textarea>
      </div>
      <div class="edit-modal-footer">
        <button class="edit-modal-cancel" id="cancelEdit">Cancel</button>
        <button class="edit-modal-save" id="saveEdit">Save</button>
      </div>
    </div>
  </div>
  
  <!-- Confirm Delete Modal -->
  <div id="confirmModal" class="confirm-modal">
    <div class="confirm-modal-content">
      <div class="confirm-modal-title">Confirm Delete</div>
      <div class="confirm-modal-message">Are you sure you want to delete all saved replies? This action cannot be undone.</div>
      <div class="confirm-modal-actions">
        <button class="confirm-cancel-btn" id="cancelDelete">Cancel</button>
        <button class="confirm-delete-btn" id="confirmDelete">Delete All</button>
      </div>
    </div>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification">Message copied!</div>

  <script>
    // Set favicon
    const setFavicon = () => {
      const favicon = document.createElement('link');
      favicon.rel = 'icon';
      favicon.type = 'image/svg+xml';
      favicon.href = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="0.9em" font-size="90" x="50%" text-anchor="middle">💬</text></svg>';
      document.head.appendChild(favicon);
    };
    setFavicon();

    // Settings menu functionality
    const settingsToggle = document.getElementById('settingsToggle');
    const settingsMenu = document.getElementById('settingsMenu');
    const settingsOverlay = document.getElementById('settingsOverlay');
    const closeSettings = document.getElementById('closeSettings');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const compactModeToggle = document.getElementById('compactModeToggle');
    const twitterHandleInput = document.getElementById('twitterHandle');
    
    // Open settings menu
    settingsToggle.addEventListener('click', () => {
      settingsMenu.classList.add('active');
      settingsOverlay.classList.add('active');
      
      // Update checkbox states
      if (darkModeToggle) darkModeToggle.checked = body.classList.contains('dark-theme');
      if (compactModeToggle) compactModeToggle.checked = body.classList.contains('compact-mode');
      
      // Load Twitter handle
      if (twitterHandleInput) {
        const savedHandle = localStorage.getItem('twitterHandle') || '';
        twitterHandleInput.value = savedHandle;
      }
    });
    
    // Close settings menu
    function closeSettingsMenu() {
      settingsMenu.classList.remove('active');
      settingsOverlay.classList.remove('active');
    }
    
    closeSettings.addEventListener('click', closeSettingsMenu);
    settingsOverlay.addEventListener('click', closeSettingsMenu);
    
    // Dark mode toggle from settings
    darkModeToggle.addEventListener('change', () => {
      if (darkModeToggle.checked) {
        body.classList.add('dark-theme');
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        localStorage.setItem('theme', 'dark');
      } else {
        body.classList.remove('dark-theme');
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        localStorage.setItem('theme', 'light');
      }
    });
    
    // Compact mode toggle from settings
    compactModeToggle.addEventListener('change', () => {
      if (compactModeToggle.checked) {
        body.classList.add('compact-mode');
        localStorage.setItem('compactMode', 'true');
      } else {
        body.classList.remove('compact-mode');
        localStorage.setItem('compactMode', 'false');
      }
    });

    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    const icon = themeToggle.querySelector('i');
    
    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      body.classList.add('dark-theme');
      icon.classList.remove('fa-moon');
      icon.classList.add('fa-sun');
    }
    
    // Toggle theme
    themeToggle.addEventListener('click', () => {
      if (body.classList.contains('dark-theme')) {
        body.classList.remove('dark-theme');
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        localStorage.setItem('theme', 'light');
        if (darkModeToggle) darkModeToggle.checked = false;
      } else {
        body.classList.add('dark-theme');
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        localStorage.setItem('theme', 'dark');
        if (darkModeToggle) darkModeToggle.checked = true;
      }
    });
    
    // Check for saved compact mode preference
    const savedCompactMode = localStorage.getItem('compactMode');
    if (savedCompactMode === 'true') {
      body.classList.add('compact-mode');
      if (compactModeToggle) compactModeToggle.checked = true;
    }
    
    // Color theme selector
    const colorOptions = document.querySelectorAll('.color-option');
    
    // Define color themes
    const colorThemes = {
      green: {
        '--primary-color': '#2e7d32',
        '--primary-light': '#60ad5e',
        '--primary-dark': '#005005',
        '--card-border': '#2e7d32'
      },
      blue: {
        '--primary-color': '#1976d2',
        '--primary-light': '#42a5f5',
        '--primary-dark': '#0d47a1',
        '--card-border': '#1976d2'
      },
      purple: {
        '--primary-color': '#7b1fa2',
        '--primary-light': '#ae52d4',
        '--primary-dark': '#4a0072',
        '--card-border': '#7b1fa2'
      },
      orange: {
        '--primary-color': '#e65100',
        '--primary-light': '#ff9800',
        '--primary-dark': '#bf360c',
        '--card-border': '#e65100'
      }
    };
    
    // Check for saved color theme
    const savedColorTheme = localStorage.getItem('colorTheme');
    if (savedColorTheme && colorThemes[savedColorTheme]) {
      applyColorTheme(savedColorTheme);
      colorOptions.forEach(option => {
        if (option.dataset.theme === savedColorTheme) {
          option.classList.add('active');
        }
      });
    } else {
      // Default theme is green
      colorOptions[0].classList.add('active');
    }
    
    // Apply color theme
    function applyColorTheme(themeName) {
      const theme = colorThemes[themeName];
      if (theme) {
        Object.keys(theme).forEach(property => {
          document.documentElement.style.setProperty(property, theme[property]);
        });
      }
    }
    
    // Add event listeners to color options
    colorOptions.forEach(option => {
      option.addEventListener('click', () => {
        const themeName = option.dataset.theme;
        
        // Remove active class from all options
        colorOptions.forEach(opt => opt.classList.remove('active'));
        
        // Add active class to selected option
        option.classList.add('active');
        
        // Apply the selected theme
        applyColorTheme(themeName);
        
        // Save preference
        localStorage.setItem('colorTheme', themeName);
        
        // Show notification
        showNotification(`${themeName.charAt(0).toUpperCase() + themeName.slice(1)} theme applied`, 'success');
      });
    });
    
    // Enhanced notification function
    function showNotification(message, type = '') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = 'notification'; // Reset classes
      
      if (type) {
        notification.classList.add(type);
      }
      
      notification.classList.add('show');
      setTimeout(() => {
        notification.classList.remove('show');
      }, 2000);
    }

    // Message templates for fallback
    const defaultTemplates = {
      GM: {
        short: [
          "GM! WAGMI 🚀", 
          "GM fren! 💪", 
          "GM ser! 🔥", 
          "GM anon! 💎", 
          "GM degen! 🌕",
          "GM king! 👑",
          "GM fam! 🙌",
          "GM chad! 💯",
          "GM boss! 🏆",
          "GM whale! 🐋"
        ],
        normal: [
          "GM legend! Stay bullish and keep stacking those sats!", 
          "GM buddy! Ready for green candles today?", 
          "GM degen! Keep building, the future is bright!", 
          "GM anon! Bullish on your journey!", 
          "GM fam! HODL strong, friend!"
        ]
      },
      GN: {
        short: [
          "GN! WAGMI 🚀", 
          "GN fren! 💪", 
          "GN ser! 💤", 
          "GN anon! 💎", 
          "GN degen! 🌙",
          "GN king! 👑",
          "GN fam! 🙌",
          "GN chad! 💯",
          "GN boss! 🏆",
          "GN whale! 🐋"
        ],
        normal: [
          "GN legend! Dream of green charts tonight!", 
          "GN buddy! Rest well, tomorrow we moon!", 
          "GN degen! Keep those diamond hands strong!", 
          "GN anon! Bullish dreams, friend!", 
          "GN fam! WAGMI, see you tomorrow!"
        ]
      }
    };

    // Global variables
    let savedMessages = JSON.parse(localStorage.getItem('savedMessages')) || [];
    const OPENAI_API_KEY = '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';
    let currentEditingMessage = null;
    let currentEditingIndex = -1;

    // Function to generate message with AI
    async function generateAIMessage() {
      const greeting = document.querySelector('input[name="greeting-ai"]:checked').value;
      const messageLength = document.querySelector('input[name="message-length"]:checked').value;
      const prompt = document.getElementById('aiPrompt').value.trim();
      
      // Show loading indicator
      document.getElementById('aiLoading').style.display = 'block';
      
      try {
        // Determine greeting type (GM or GN)
        const greetingType = greeting.startsWith('GM') ? 'GM' : 'GN';
        
        // Prepare prompt for API
        let systemPrompt = `Generate 3 ${greetingType} replies for the crypto community. These are direct responses to someone who has posted "${greetingType}" on social media. The replies should be personal, as if talking directly to the original poster. `;
        
        if (messageLength === 'short') {
          systemPrompt += `Replies should be very short (2-5 words total) and use crypto community slang like WAGMI, LFG, etc. Include an appropriate emoji. 
          
          Format: "${greetingType} [term]! [optional: short phrase] [emoji]"
          
          Where [term] is one of: fren, ser, anon, degen, king, fam, chad, boss, whale, etc.
          
          Examples:
          - "${greetingType} fren! WAGMI 🚀"
          - "${greetingType} ser! Bullish 💪"
          - "${greetingType} degen! LFG 🔥"
          - "${greetingType} anon! 💎🙌"
          - "${greetingType} king! 👑"`;
        } else if (messageLength === 'normal') {
          systemPrompt += `Replies should be one short sentence addressing the person directly with a greeting term like 'legend', 'buddy', 'degen', 'anon', 'fam', etc. 
          
          Format: "${greetingType} [term]! [one short sentence about crypto]"
          
          Where [term] is one of: legend, buddy, degen, anon, fam, king, whale, ser, fren, etc.
          
          Examples:
          - "${greetingType} legend! Stay bullish and keep stacking those sats!"
          - "${greetingType} buddy! Ready for green candles today?"
          - "${greetingType} degen! Keep building, the future is bright!"
          - "${greetingType} anon! Bullish on your journey!"
          - "${greetingType} fam! HODL strong, friend!"`;
        }
        
        if (prompt) {
          systemPrompt += ` Focus on the topic of ${prompt} in your replies.`;
        }
        
        systemPrompt += `\n\nImportant: Each reply must start with "${greetingType}" followed by a term of address (like fren, ser, anon, etc.).`;
        systemPrompt += `\n\nExamples of good ${greetingType} replies:`;
        
        // Add more examples from our templates
        for (let i = 0; i < 5; i++) {
          systemPrompt += `\n- ${defaultTemplates[greetingType][messageLength][i]}`;
        }
        
        try {
          // API call to OpenAI
          const response = await fetch('https://api.openai.com/v1/chat/completions', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${OPENAI_API_KEY}`
            },
            body: JSON.stringify({
              model: 'gpt-3.5-turbo',
              messages: [
                { role: 'system', content: systemPrompt },
                { role: 'user', content: `Someone posted "${greetingType}" on social media. Generate 3 ${messageLength} replies to them.` }
              ],
              temperature: 0.8, // Slightly higher temperature for more variety
              max_tokens: 250
            })
          });
          
          const data = await response.json();
          
          if (data.error) {
            throw new Error(data.error.message);
          }
          
          // Process response
          const content = data.choices[0].message.content;
          const messages = content.split(/\n+/).filter(line => 
            line.trim() && !line.startsWith('-') && !line.startsWith('*') && !line.startsWith('#')
          );
          
          // Create message cards and display them
          displayMessages(messages);
          
        } catch (apiError) {
          console.error('API Error:', apiError);
          // Fallback to templates if API fails
          useFallbackTemplates(greetingType, messageLength, prompt);
        }
      } catch (error) {
        console.error('Error generating message:', error);
        const aiResults = document.getElementById('aiResults');
        aiResults.innerHTML = `
          <div class="error-message">
            <p><strong>Error generating reply:</strong> ${error.message}</p>
            <p>Please check your API key or try again later.</p>
          </div>
        `;
      } finally {
        // Hide loading indicator
        document.getElementById('aiLoading').style.display = 'none';
      }
    }

    // Function to use fallback templates when API fails
    function useFallbackTemplates(greetingType, messageLength, prompt) {
      console.log('Using fallback templates');
      const templates = defaultTemplates[greetingType][messageLength];
      
      // Get 3 random templates
      const randomResponses = [];
      const usedIndices = new Set();
      
      while (randomResponses.length < 3 && randomResponses.length < templates.length) {
        const randomIndex = Math.floor(Math.random() * templates.length);
        if (!usedIndices.has(randomIndex)) {
          let response = templates[randomIndex];
          
          // If there's a prompt, try to incorporate it
          if (prompt) {
            // Simple way to incorporate the topic
            if (messageLength === 'short') {
              response = response.replace('!', `! ${prompt.split(' ')[0]} `);
            } else {
              if (response.includes('bullish')) {
                response = response.replace('bullish', `bullish on ${prompt}`);
              } else if (response.includes('green')) {
                response = response.replace('green', `${prompt} green`);
              } else {
                // Add topic at the end if we can't find a good place
                response = response.replace('!', `! ${prompt} `);
              }
            }
          }
          
          randomResponses.push(response);
          usedIndices.add(randomIndex);
        }
      }
      
      // Display the fallback messages
      displayMessages(randomResponses);
      
      // Show notification that we're using fallback
      showNotification('Using offline mode with pre-defined templates', 'info');
    }

    // Function to display messages (extracted from generateAIMessage)
    function displayMessages(messages) {
      // Get the results container
      const aiResults = document.getElementById('aiResults');
      
      // Create a document fragment to hold the new message cards
      const fragment = document.createDocumentFragment();
      
      // Create message cards
      messages.forEach(message => {
        // Clean numbering and other characters at the beginning
        const cleanMessage = message.replace(/^\d+[\.\)\-\s]+/, '').trim();
        if (cleanMessage) {
          const messageCard = document.createElement('div');
          messageCard.className = 'message-card';
          
          const messageText = document.createElement('div');
          messageText.className = 'message-text';
          messageText.textContent = cleanMessage;
          
          const messageActions = document.createElement('div');
          messageActions.className = 'message-actions';
          
          const copyBtn = document.createElement('button');
          copyBtn.className = 'copy-btn';
          copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy';
          copyBtn.onclick = () => {
            copyToClipboard(cleanMessage);
          };
          
          const editBtn = document.createElement('button');
          editBtn.className = 'edit-btn';
          editBtn.innerHTML = '<i class="fas fa-edit"></i> Edit';
          editBtn.onclick = () => {
            openEditModal(cleanMessage, messageText);
          };
          
          const shareBtn = document.createElement('button');
          shareBtn.className = 'share-btn';
          shareBtn.innerHTML = 'Post on X';
          shareBtn.onclick = () => {
            shareOnTwitter(cleanMessage);
          };
          
          const deleteBtn = document.createElement('button');
          deleteBtn.className = 'delete-btn';
          deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
          deleteBtn.onclick = () => {
            deleteMessage(cleanMessage);
          };
          
          messageActions.appendChild(copyBtn);
          messageActions.appendChild(editBtn);
          messageActions.appendChild(shareBtn);
          messageActions.appendChild(deleteBtn);
          
          messageCard.appendChild(messageText);
          messageCard.appendChild(messageActions);
          
          fragment.appendChild(messageCard);
          
          // Save message
          savedMessages.unshift(cleanMessage);
        }
      });
      
      // Clear previous results
      aiResults.innerHTML = '';
      aiResults.appendChild(fragment);
      
      // Limit to 50 saved messages
      if (savedMessages.length > 50) {
        savedMessages = savedMessages.slice(0, 50);
      }
      
      // Save to localStorage
      localStorage.setItem('savedMessages', JSON.stringify(savedMessages));
      
      // Update saved messages display
      renderSavedMessages();
    }

    // Função para copiar mensagem para a área de transferência
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        showNotification('Reply copied!', 'success');
      });
    }

    // Função para excluir mensagem - corrigida para lidar com strings e índices
    function deleteMessage(indexOrMessage) {
      let index = indexOrMessage;
      
      // Se for uma string (conteúdo da mensagem), encontre o índice
      if (typeof indexOrMessage === 'string') {
        index = savedMessages.indexOf(indexOrMessage);
      }
      
      // Remove from saved messages if index is valid
      if (index >= 0 && index < savedMessages.length) {
        savedMessages.splice(index, 1);
        localStorage.setItem('savedMessages', JSON.stringify(savedMessages));
        renderSavedMessages();
        
        showNotification('Reply deleted!');
      }
    }

    // Função para limpar todas as mensagens
    function clearAllMessages() {
      savedMessages = [];
      localStorage.setItem('savedMessages', JSON.stringify(savedMessages));
      renderSavedMessages();
      closeConfirmModal();
      
      showNotification('All replies deleted!');
    }

    // Function to open edit modal
    function openEditModal(message, messageTextElement, index = -1) {
      const modal = document.getElementById('editModal');
      const textarea = document.getElementById('editMessageText');
      
      textarea.value = message;
      currentEditingMessage = messageTextElement;
      currentEditingIndex = index;
      
      modal.classList.add('active');
    }

    // Function to close edit modal
    function closeEditModal() {
      const modal = document.getElementById('editModal');
      modal.classList.remove('active');
      currentEditingMessage = null;
      currentEditingIndex = -1;
    }

    // Função para salvar mensagem editada
    function saveEditedMessage() {
      const textarea = document.getElementById('editMessageText');
      const editedMessage = textarea.value.trim();
      
      if (currentEditingMessage && editedMessage) {
        currentEditingMessage.textContent = editedMessage;
        
        // Update in saved messages if it's a saved message
        if (currentEditingIndex !== -1) {
          savedMessages[currentEditingIndex] = editedMessage;
          localStorage.setItem('savedMessages', JSON.stringify(savedMessages));
        }
        
        closeEditModal();
        
        showNotification('Reply updated!', 'success');
      }
    }

    // Function to open confirm modal
    function openConfirmModal() {
      const modal = document.getElementById('confirmModal');
      modal.classList.add('active');
    }

    // Function to close confirm modal
    function closeConfirmModal() {
      const modal = document.getElementById('confirmModal');
      modal.classList.remove('active');
    }

    // Event listeners
    document.getElementById('generateAiBtn').addEventListener('click', () => generateAIMessage());
    document.getElementById('clearAllBtn').addEventListener('click', openConfirmModal);
    
    // Edit modal event listeners
    document.getElementById('closeModal').addEventListener('click', closeEditModal);
    document.getElementById('cancelEdit').addEventListener('click', closeEditModal);
    document.getElementById('saveEdit').addEventListener('click', saveEditedMessage);
    
    // Confirm modal event listeners
    document.getElementById('cancelDelete').addEventListener('click', closeConfirmModal);
    document.getElementById('confirmDelete').addEventListener('click', clearAllMessages);
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      renderSavedMessages();
    });
    
    // Initialize immediately if DOM is already loaded
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      renderSavedMessages();
    }

    // Save Twitter handle when it changes
    if (twitterHandleInput) {
      twitterHandleInput.addEventListener('change', () => {
        const handle = twitterHandleInput.value.trim().replace('@', '');
        localStorage.setItem('twitterHandle', handle);
        showNotification('Twitter handle saved', 'success');
      });
    }

    // Function to share on Twitter with user's handle
    function shareOnTwitter(message) {
      let tweetText = message;
      const handle = localStorage.getItem('twitterHandle');
      
      // If user has set a Twitter handle, add it to the tweet
      if (handle && handle.trim() !== '') {
        tweetText = `${message}\n\n- @${handle}`;
      }
      
      const encodedMessage = encodeURIComponent(tweetText);
      window.open(`https://twitter.com/intent/tweet?text=${encodedMessage}`, '_blank');
    }

    // Function to render saved messages
    function renderSavedMessages() {
      const savedMessagesList = document.getElementById('savedMessagesList');
      savedMessagesList.innerHTML = '';
      
      if (savedMessages.length === 0) {
        savedMessagesList.innerHTML = '<p>No saved replies yet. Generate some replies to see them here.</p>';
        return;
      }
      
      savedMessages.forEach((message, index) => {
        const messageCard = document.createElement('div');
        messageCard.className = 'message-card';
        
        const messageText = document.createElement('div');
        messageText.className = 'message-text';
        messageText.textContent = message;
        
        const messageActions = document.createElement('div');
        messageActions.className = 'message-actions';
        
        const copyBtn = document.createElement('button');
        copyBtn.className = 'copy-btn';
        copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy';
        copyBtn.onclick = () => {
          copyToClipboard(message);
        };
        
        const editBtn = document.createElement('button');
        editBtn.className = 'edit-btn';
        editBtn.innerHTML = '<i class="fas fa-edit"></i> Edit';
        editBtn.onclick = () => {
          openEditModal(message, messageText, index);
        };
        
        const shareBtn = document.createElement('button');
        shareBtn.className = 'share-btn';
        shareBtn.innerHTML = 'Post on X';
        shareBtn.onclick = () => {
          shareOnTwitter(message);
        };
        
        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'delete-btn';
        deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
        deleteBtn.onclick = () => {
          deleteMessage(index);
        };
        
        messageActions.appendChild(copyBtn);
        messageActions.appendChild(editBtn);
        messageActions.appendChild(shareBtn);
        messageActions.appendChild(deleteBtn);
        
        messageCard.appendChild(messageText);
        messageCard.appendChild(messageActions);
        
        savedMessagesList.appendChild(messageCard);
      });
    }
  </script>
</body>
</html>
